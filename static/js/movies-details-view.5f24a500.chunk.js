(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[1],{81:function(e,t,r){e.exports={posterMovie:"MovieDetailsBlock_posterMovie__-t4hp",mainBlock:"MovieDetailsBlock_mainBlock__1rcvt",descriptionBlock:"MovieDetailsBlock_descriptionBlock__3NEmk"}},82:function(e,t,r){e.exports={CastPhoto:"Cast_CastPhoto__1jUkr",castList:"Cast_castList__3mPNN"}},84:function(e,t,r){"use strict";r.r(t);var n=r(13),a=r.n(n);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=r(15),l=r(20),h=r(21),u=r(23),j=r(22),p=r(0),v=r(8),b=r(2),d=r(9),O=r(24),f=r(81),m=r.n(f),x=r(1),g=function(e){var t=e.imageUrl,r=e.movieTitle,n=e.vote_average,a=e.overview,c=e.genres;return Object(x.jsxs)("div",{className:m.a.mainBlock,children:[Object(x.jsxs)("div",{children:[" ",""!==t&&Object(x.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(t),alt:"",className:m.a.posterMovie})]}),Object(x.jsxs)("div",{className:m.a.descriptionBlock,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:r}),Object(x.jsxs)("p",{children:["Vote average: ",n]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Overview"}),Object(x.jsx)("p",{children:a})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"Genres: "}),c.map((function(e){var t=e.id,r=e.name;return Object(x.jsx)("p",{children:r},t)}))]})]})]})},w=r(82),y=r.n(w),k=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={actors:[]},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,O.a.fetchCast(t);case 3:r=e.sent,this.setState({actors:r.data.cast});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.actors;return Object(x.jsx)(x.Fragment,{children:e.length>0?Object(x.jsx)("ul",{className:y.a.castList,children:e.map((function(e){var t=e.id,r=e.name,n=e.profile_path;return Object(x.jsxs)("li",{children:[Object(x.jsx)("p",{children:r}),n?Object(x.jsx)("img",{className:y.a.CastPhoto,src:"https://image.tmdb.org/t/p/w500".concat(n),alt:r}):null]},t)}))}):Object(x.jsx)("p",{children:"We don't have cast for this movie."})})}}]),r}(p.Component),_=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={reviews:[]},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,O.a.fetchReviews(t);case 3:r=e.sent,this.setState({reviews:r.data.results});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.reviews;return Object(x.jsx)(x.Fragment,{children:e.length>0?Object(x.jsx)("ul",{children:e.map((function(e){var t=e.id,r=e.author,n=e.content;return Object(x.jsxs)("li",{children:[Object(x.jsxs)("h2",{children:["Author: ",r]}),Object(x.jsx)("p",{children:n})]},t)}))}):Object(x.jsx)("p",{children:"We don't have any reviews for this movie."})})}}]),r}(p.Component),B=function(e){Object(u.a)(r,e);var t=Object(j.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={title:null,vote_average:null,overview:null,genres:[],id:null,poster_path:""},e.handleGoBack=function(){var t=e.props,r=t.history,n=t.location;if(n.state&&n.state.from)return r.push(n.state.from);r.push(d.a.movies)},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.fetchMovieDetails()}},{key:"fetchMovieDetails",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.movieId,e.next=3,O.a.fetchDetails(t);case 3:r=e.sent,this.setState(i({},r.data));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.title,r=e.vote_average,n=e.overview,a=e.genres,c=e.poster_path,s=this.props.match.url,o=this.props.location;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{className:"goBackBtn",type:"button",onClick:this.handleGoBack,children:"Go back"}),Object(x.jsx)(g,{movieTitle:t,imageUrl:c,vote_average:r,overview:n,genres:a}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:Object(x.jsx)(v.c,{to:{pathname:"".concat(s,"/cast"),state:{from:o}},children:"Cast"})}),Object(x.jsx)("li",{children:Object(x.jsx)(v.c,{to:{pathname:"".concat(s,"/reviews"),state:{from:o}},children:"Reviews"})})]}),Object(x.jsx)(b.a,{path:"/movies/:movieId/cast",render:function(e){return Object(x.jsx)(k,i({},e))}}),Object(x.jsx)(b.a,{path:"/movies/:movieId/reviews",render:function(e){return Object(x.jsx)(_,i({},e))}})]})}}]),r}(p.Component);t.default=B}}]);
//# sourceMappingURL=movies-details-view.5f24a500.chunk.js.map